webpackJsonp([2],{61:function(e,t,o){o(77);var n=o(8)(o(68),o(85),null,null);n.options.__file="D:\\dev\\WebstormProjects\\easy-skills-adm\\src\\views\\skills\\skill-editor.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] skill-editor.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},62:function(e,t){},63:function(e,t){},64:function(e,t){},65:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"UE",data:function(){return{editor:null}},props:{defaultMsg:{type:String},config:{type:Object}},mounted:function(){var e=this;this.editor=UE.getEditor("editor",this.config),this.editor.addListener("ready",function(){e.editor.setContent(e.defaultMsg)})},methods:{getUEContent:function(){return this.editor.getContent()}},destroyed:function(){this.editor.destroy()}}},68:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(63),i=(o.n(n),o(64)),a=(o.n(i),o(62)),r=(o.n(a),o(80)),s=o.n(r);t.default={name:"skill-editor",components:{UE:s.a},data:function(){var e=this;return{defaultMsg:"这里是UE测试",config:{initialFrameWidth:null,initialFrameHeight:350},coverType:"多",addRange:[],defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"},{name:"bc7521e033abdd1e92222d733590f104",url:"https://o5wwk8baw.qnssl.com/bc7521e033abdd1e92222d733590f104/avatar"}],imageModalVisible:!1,uploadList:[],formData:{name:"",content:"",classifyId:null},ruleValidate:{name:[{required:!0,message:"标题不可以为空",trigger:"blur"}]},editorOption:{modules:{toolbar:{container:[[{header:[1,2,!1]}],["bold","italic"],["blockquote","code-block","image"],[{list:"ordered"},{list:"bullet"}]],handlers:{image:function(){e.addRange=e.$refs.myQuillEditor.quill.getSelection(),console.log("_this.addRange is:"),console.log(e.addRange),e.$refs.myQuillEditor.quill.insertEmbed(null!==e.addRange?e.addRange.index:0,"image","https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2516518743,214632799&fm=27&gp=0.jpg")}}}},placeholder:"在此输入你的内容",theme:"snow"}}},methods:{handleSubmit:function(e){var t=this,o=this;o.formData.content=o.getUEContent(),o.$refs[e].validate(function(e){e?o.$axios({method:"post",data:t.formData,url:t.$url.PRODUCT_ADD}).then(function(e){t.$Message.success("新增成功"),o.$router.push("/skills/skill-list")}).catch(function(e){console.error(e),t.$Message.error("新增失败！")}):t.$Message.error("Fail!")})},onEditorBlur:function(e){console.log("editor blur!",e)},onEditorFocus:function(e){console.log("editor focus!",e)},onEditorReady:function(e){console.log("editor ready!",e)},onEditorChange:function(e){var t=e.quill,o=e.html,n=e.text;console.log("editor change!",t,o,n),this.formData.content=o},handleView:function(e){this.imgName=e,this.imageModalVisible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleSuccess:function(e,t){t.url="https://o5wwk8baw.qnssl.com/7eb99afb9d5f317c912f08b5212fd69a/avatar",t.name="7eb99afb9d5f317c912f08b5212fd69a"},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 2M."})},handleBeforeUpload:function(){var e="单图"===this.coverType?1:3,t=this.uploadList.length<e;return t||this.$Notice.warning({title:"最多上传"+e+"张图片"}),t},getUEContent:function(){return this.$refs.ue.getUEContent()}},computed:{classifyList:function(){return this.$store.state.conditions.classifyList}},created:function(){this.formData.classifyId=this.classifyList[0].value},mounted:function(){}}},73:function(e,t){},77:function(e,t){},80:function(e,t,o){o(73);var n=o(8)(o(65),o(81),null,null);n.options.__file="D:\\dev\\WebstormProjects\\easy-skills-adm\\src\\components\\UE.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] UE.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},81:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("script",{attrs:{id:"editor",type:"text/plain"}})])}]},e.exports.render._withStripped=!0},85:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("由于quillEditor没有上传图片到后台功能，将采用其它如百度UEditor")]),e._v(" "),o("Row",[o("Col",{attrs:{offset:"6",span:"12"}},[o("Form",{ref:"formData",attrs:{model:e.formData,rules:e.ruleValidate,"label-width":80}},[o("FormItem",{attrs:{label:"标题",prop:"name"}},[o("Input",{attrs:{placeholder:"请输入标题"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),o("FormItem",{attrs:{label:"内容"}},[o("UE",{ref:"ue",attrs:{defaultMsg:e.defaultMsg,config:e.config}})],1),e._v(" "),o("FormItem",{attrs:{label:"摘要",prop:"summary"}},[o("Input",{attrs:{type:"textarea",placeholder:"请输入摘要"},model:{value:e.formData.summary,callback:function(t){e.$set(e.formData,"summary",t)},expression:"formData.summary"}})],1),e._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formData")}}},[e._v("确定")])],1)],1)],1)],1),e._v(" "),o("Modal",{attrs:{title:"查看图片"},model:{value:e.imageModalVisible,callback:function(t){e.imageModalVisible=t},expression:"imageModalVisible"}},[e.imageModalVisible?o("img",{staticStyle:{width:"100%"},attrs:{src:"https://o5wwk8baw.qnssl.com/"+e.imgName+"/large"}}):e._e()])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});